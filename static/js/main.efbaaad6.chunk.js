(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{55:function(t,e,n){t.exports=n(96)},94:function(t,e,n){},96:function(t,e,n){"use strict";n.r(e);var a=n(1),o=n.n(a),r=n(44),c=n.n(r),s=n(6),l=n(4),i=n(47),p=n.n(i),u=n(8),m=n(12),d=n(24),h=n(54),b=n(19),f=n.n(b),y="fetch_posts",v="fetch_post",E="create_post",j="delete_post",O="http://reduxblog.herokuapp.com/api",g="?key=PAPERCLIP1235";var k=n(18),P=n.n(k),x=Object(l.c)({posts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case y:return P.a.mapKeys(e.payload.data,"id");case v:return Object(h.a)({},t,Object(d.a)({},e.payload.data.id,e.payload.data));case j:return P.a.omit(t,e.payload);default:return t}},form:m.b}),C=n(13),N=n(14),w=n(16),S=n(15),D=n(17),F=function(t){function e(){return Object(C.a)(this,e),Object(w.a)(this,Object(S.a)(e).apply(this,arguments))}return Object(D.a)(e,t),Object(N.a)(e,[{key:"componentDidMount",value:function(){this.props.fetchPosts()}},{key:"renderPosts",value:function(){return P.a.map(this.props.posts,function(t){return o.a.createElement("li",{className:"list-group-item",key:t.id},o.a.createElement(u.b,{to:"/posts/".concat(t.id)},t.title))})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"text-xs-right"},o.a.createElement(u.b,{className:"btn btn-primary",to:"/posts/new"},"Add a Post")),o.a.createElement("h3",null,"Posts"),o.a.createElement("ul",{className:"list-group"},this.renderPosts()))}}]),e}(o.a.Component);var _=Object(s.b)(function(t){return{posts:t.posts}},{fetchPosts:function(){var t=f.a.get("".concat(O,"/posts").concat(g));return{type:y,payload:t}}})(F),T=(n(94),function(t){function e(){return Object(C.a)(this,e),Object(w.a)(this,Object(S.a)(e).apply(this,arguments))}return Object(D.a)(e,t),Object(N.a)(e,[{key:"renderField",value:function(t){var e=t.meta,n=e.touched,a=e.error,r="".concat(a&&n?"is-invalid":"is-valid");return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",null,t.label),o.a.createElement("input",Object.assign({className:"form-control ".concat(n?r:""),type:t.text},t.input)),o.a.createElement("div",{className:"text-help"},n?a:""))}},{key:"onSubmit",value:function(t){var e=this;this.props.createPost(t,function(){e.props.history.push("/")})}},{key:"render",value:function(){var t=this.props.handleSubmit;return o.a.createElement("form",{onSubmit:t(this.onSubmit.bind(this))},o.a.createElement(m.a,{label:"Title",name:"title",type:"text",component:this.renderField}),o.a.createElement(m.a,{label:"Categories",name:"categories",type:"text",component:this.renderField}),o.a.createElement(m.a,{label:"Post Content",name:"content",type:"text",component:this.renderField}),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"),o.a.createElement(u.b,{to:"/",className:"btn btn-danger"},"Cancel"))}}]),e}(o.a.Component));var A=Object(m.c)({validate:function(t){var e={};return t.title?t.title.length<3&&(e.title="The title need to be longer than 3 characters"):e.title="Enter a title",t.categories||(e.categories="Enter some categories"),t.content||(e.content="Enter some content please"),e},form:"PostsNewForm"})(Object(s.b)(null,{createPost:function(t,e){var n=f.a.post("".concat(O,"/posts").concat(g),t).then(function(){return e()});return{type:E,payload:n}}})(T)),I=function(t){function e(){return Object(C.a)(this,e),Object(w.a)(this,Object(S.a)(e).apply(this,arguments))}return Object(D.a)(e,t),Object(N.a)(e,[{key:"componentDidMount",value:function(){if(!this.props.post){var t=this.props.match.params.id;this.props.fetchPost(t)}}},{key:"onDeleteClick",value:function(){var t=this,e=this.props.match.params.id;this.props.deletePost(e,function(){t.props.history.push("/")})}},{key:"render",value:function(){var t=this.props.post;return t?o.a.createElement("div",null,o.a.createElement(u.b,{to:"/"},"Back To Index"),o.a.createElement("button",{className:"btn btn-danger pull-xs-right",onClick:this.onDeleteClick.bind(this)},"Delete Post"),o.a.createElement("h3",null,t.title),o.a.createElement("h6",null,"Categories: ",t.categories),o.a.createElement("p",null,t.content)):o.a.createElement("div",null,"Loading")}}]),e}(o.a.Component);var J=Object(s.b)(function(t,e){return{post:t.posts[e.match.params.id]}},{fetchPost:function(t){var e=f.a.get("".concat(O,"/posts/").concat(t).concat(g));return{type:v,payload:e}},deletePost:function(t,e){return f.a.delete("".concat(O,"/posts/").concat(t).concat(g)).then(function(){return e()}),{type:j,payload:t}}})(I),L=Object(l.a)(p.a)(l.d)(x);c.a.render(o.a.createElement(s.a,{store:L},o.a.createElement(u.a,null,o.a.createElement("div",null,o.a.createElement(u.d,null,o.a.createElement(u.c,{path:"/",exact:!0,component:_}),o.a.createElement(u.c,{path:"/posts/new",component:A}),o.a.createElement(u.c,{path:"/posts/:id",component:J}))))),document.querySelector("#root"))}},[[55,2,1]]]);
//# sourceMappingURL=main.efbaaad6.chunk.js.map